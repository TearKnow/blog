---
layout:     post
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Algorithm
---

这是一个选和不选的问题，首先需要写出推导公式

f(n) = 某个值 + f(n-2) 

f(n) = f(n-1)

f(n)是这里面的最大值

### 使用递归
```php
//方法1. 使用递归，超时了，有重叠子问题
//1,2,3,1
//如果选了第一个，那么需要剩下的从第三个开始的数组里取
//如果没选第一个，那么从第二个开始的数组里取
function rob1($nums) {

	if(count($nums) <= 1){
		return array_sum($nums);
	}
	if(count($nums) == 2){
		return max($nums);
	}
	
	$leftNum = array_slice($nums, 0, 1);
	$otherNums = array_slice($nums, 2);
	
	$nextNums = array_slice($nums, 1);
	
	$one = $leftNum[0] + rob($otherNums);
	$two = rob($nextNums);
	
	return max($one, $two);
}
```

### 使用动态规划
```php
//方法2. 使用动态规划，主要还是把公式写出来，然后从小的算到大的
/*
f(n)定义：前n个数字组成的最大值

f(n) = 某个值 + f(n-2)

f(n) = f(n-1)

举例： 2,7,9,3,1  map[1]和map[2] 得出来了，那么map[3]就是前3项的最大值怎么算呢

要么就 map[2] 要么就 9 + map[1]
*/
function rob($nums) {
	if(count($nums) <= 1){
		return array_sum($nums);
	}
	if(count($nums) == 2){
		return max($nums);
	}
	
	$map = [];
	$map[1] = $nums[0];
	$map[2] = max($nums[0], $nums[1]);
	for($i = 3; $i <= count($nums); $i++){
		$one = $map[$i - 1];
		$two = $map[$i - 2] + $nums[$i - 1];
		$map[$i] = max($one, $two);
	}
	
	return $map[count($nums)];
}
```


测试
```php
$arr = [2,7,9,3,1];

$result = rob($arr);//输出：12
```
