---
layout:     post
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Algorithm
---

leetcode5. 最长回文子串

这里用了中心向外扩展法，比如有abcdefg，循环每个元素，在每个元素上判断，是否有回文（有的话返回最大半径）

```php
<?php

class Solution {

    /**
     * @param String $s
     * @return String
     */
     
    //中心向外扩展。分2种中心 aba 和 cbba 这样的中心
    function longestPalindrome($s) {
        $max = 1;
        $result = '';
        for($i = 0; $i < strlen($s); $i++){
            $oneLength = $this->expand($s, $i , $i);
            $twoLength = $this->expand($s, $i, $i + 1);
            
            if($oneLength){//同一点
                $str1 = substr($s, $i - $oneLength + 1, 2 * $oneLength - 1);
                //echo $str1."\n";
                if(strlen($str1) >= $max){
                    $result = $str1;
                    $max = strlen($str1);
                }
            }
            
            if($twoLength){//相邻点
                $str2 = substr($s, $i - $twoLength + 1, 2 * $twoLength);
                //echo $str2 . "\n";
                if(strlen($str2) >= $max){
                    $result = $str2;
                    $max = strlen($str2);
                }
            }
        }
        
        if(!$result){
            if($s){
                return substr($s, 0, 1);
            }else{
                return '';
            }
        }
        
        return $result;
    }
    
    //$s, 在from和to向外扩展时，是否是回文的，返回的是扩展几步
    //相邻时：bb返回1，bc返回0，abba返回2
    //同一点：a返回1，aba返回2，abc返回1
    public function expand($s, $from, $to){
        $maxLength = 0;
        
        while(
            $from >= 0 
            && $to <= strlen($s) - 1
            && (substr($s, $from, 1) == substr($s, $to, 1))
        ){
            $maxLength++;
            $from--;
            $to++;
        }
        
        return $maxLength >= 0 ? $maxLength : 0;
    }
}


$obj = new Solution;
$res = $obj->longestPalindrome("aacabdkacaa");//babad cbbd  aacabdkacaa
var_dump($res);

```
    